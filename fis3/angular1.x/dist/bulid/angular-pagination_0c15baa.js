angular.module("myPagination",[]).directive("myPagination",function(){return{restrict:"EA",replace:!0,scope:{option:"=pageOption"},template:'<ul class="pagination"><li ng-click="pageClick(p)" ng-repeat="p in page" class="{{option.curr==p?\'active\':\'\'}}"><a href="javascript:;">{{p}}</a></li></ul>',link:function(o){function n(o,n,t){o=parseInt(o),n=parseInt(n),t=parseInt(t);var i=o-parseInt(t/2),p=o+parseInt(t/2)+t%2-1;0>=i&&(i=1,p=i+t-1,p>n&&(p=n)),p>n&&(p=n,i=p-t+1,0>=i&&(i=1));for(var r=[],a=i;p>=a;a++)r.push(a);return r.push("»"),r.unshift("«"),r}(!o.option.curr||isNaN(o.option.curr)||o.option.curr<1)&&(o.option.curr=1),(!o.option.all||isNaN(o.option.all)||o.option.all<1)&&(o.option.all=1),o.option.curr>o.option.all&&(o.option.curr=o.option.all),(!o.option.count||isNaN(o.option.count)||o.option.count<1)&&(o.option.count=10),o.page=n(o.option.curr,o.option.all,o.option.count),o.pageClick=function(t){"«"==t?t=parseInt(o.option.curr)-1:"»"==t&&(t=parseInt(o.option.curr)+1),1>t?t=1:t>o.option.all&&(t=o.option.all),t!=o.option.curr&&o.option.click&&"function"==typeof o.option.click&&(o.option.click(t),o.option.curr=t,o.page=n(o.option.curr,o.option.all,o.option.count))}}}});